@if (SearchSession.Count > 0)
{
    @for (int row = 0; row * _imagesPerRow < SearchSession.Count; row++)
    {
        <div class="row-container">
            <div class="image-row">
                @for (int col = 0; col < _imagesPerRow; col++)
                {
                    int index = _imagesPerRow * row + col;
                    if (index < SearchSession.Count)
                    {
                        <ImagePreview @key="SearchSession[index]" ImageId="@SearchSession[index]" OnImageSelected="@OnImageSelected"/>
                    }
                }
            </div>
        </div>
    }

    @if (SearchSession.TotalImageCount == SearchSession.Count)
    {
        <div class="endpage-note">Alle gefundenen Bilder wurden angezeigt.</div>
    }

    <div @ref="_endMarker" class="endpage-note">
        @if (SearchSession.Count < SearchSession.TotalImageCount)
        {
            <div class="force-fetch" @onclick="FetchMore">
                [Bilder laden]
            </div>
        }
    </div>
}